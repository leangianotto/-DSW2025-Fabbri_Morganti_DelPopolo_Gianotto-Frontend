<div class="container mt-5">
  <!-- Hero banner -->
  <div class="row align-items-center mb-5 bg-light rounded shadow-sm p-4">
    <div class="col-md-6 text-center text-md-start">
      <h1 class="display-4 fw-bold">Bienvenido a MiEcommerce</h1>
      <p class="lead">
        Tu tienda de tecnolog√≠a al mejor precio. Celulares, computadoras,
        accesorios y m√°s.
      </p>
      <a routerLink="/products" class="btn btn-primary btn-lg mt-3">
        Explorar productos
      </a>
    </div>
    <div class="col-md-6 text-center">
      <img
        src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png"
        alt="Tech"
        class="img-fluid"
        style="max-height: 300px"
      />
    </div>
  </div>

  <!-- Productos destacados -->
  <h2 class="text-center mb-4">Productos destacados</h2>
  <div class="row justify-content-center mb-5">
    <div
      class="col-sm-6 col-md-4 col-lg-3 mb-4"
      *ngFor="let product of featuredProducts"
    >
      <div class="card h-100 shadow-sm">
        <img
          *ngIf="product.imageUrl"
          [src]="product.imageUrl"
          class="card-img-top"
          [alt]="product.name"
          style="object-fit: cover; height: 180px"
        />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-truncate">{{ product.name }}</h5>
          <p class="card-text text-truncate">{{ product.description }}</p>
          <p>
            <strong>${{ product.price }}</strong>
          </p>
          <a
            [routerLink]="['/products', product.id]"
            class="btn btn-outline-primary mt-auto"
          >
            Ver detalles
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Productos m√°s vendidos -->
  <h2 class="text-center mb-4">üî• M√°s vendidos</h2>
  <div class="row justify-content-center mb-5">
    <ng-container *ngFor="let item of topSellingProducts">
      <div class="col-sm-6 col-md-4 col-lg-3 mb-4" *ngIf="item.product">
        <div class="card h-100 border-success shadow-sm">
          <img
            [src]="
              item.product.imageUrl ||
              'https://via.placeholder.com/300x180?text=Sin+imagen'
            "
            class="card-img-top"
            [alt]="item.product.name"
            style="object-fit: cover; height: 180px"
          />
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-truncate">{{ item.product.name }}</h5>
            <p class="card-text text-truncate">
              {{ item.product.description || "Sin descripci√≥n" }}
            </p>
            <p>
              <strong>${{ item.product.price }}</strong>
            </p>
            <a
              [routerLink]="['/products', item.product.id]"
              class="btn btn-success mt-auto"
            >
              Ver detalles
            </a>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Marcas asociadas -->
  <h2 class="text-center mb-4">Marcas que confiamos</h2>
  <div
    class="d-flex justify-content-center align-items-center gap-5 mb-5 flex-wrap"
  >
    <img
      *ngFor="let brand of brands"
      [src]="brand.logoUrl"
      [alt]="brand.name"
      style="height: 50px; filter: grayscale(100%); transition: filter 0.3s"
      class="brand-logo"
    />
  </div>

  <!-- Por qu√© elegirnos -->
  <h2 class="text-center mb-4">¬øPor qu√© elegirnos?</h2>
  <div class="row text-center mb-5">
    <div class="col-md-4 mb-4">
      <i class="bi bi-truck fs-1 text-primary mb-3"></i>
      <h5>Env√≠o r√°pido y seguro</h5>
      <p>Recib√≠ tus productos en tiempo r√©cord y con total seguridad.</p>
    </div>
    <div class="col-md-4 mb-4">
      <i class="bi bi-cash-stack fs-1 text-primary mb-3"></i>
      <h5>Pag√° en cuotas</h5>
      <p>Ofrecemos m√∫ltiples opciones de pago para tu comodidad.</p>
    </div>
    <div class="col-md-4 mb-4">
      <i class="bi bi-headset fs-1 text-primary mb-3"></i>
      <h5>Soporte 24/7</h5>
      <p>Estamos para ayudarte cuando nos necesites.</p>
    </div>
  </div>

  <!-- Newsletter -->
  <div class="bg-primary text-white p-4 rounded mb-5 text-center">
    <h4>Suscribite a nuestro newsletter</h4>
    <p>Recib√≠ ofertas exclusivas y novedades</p>
    <form
      (ngSubmit)="subscribeNewsletter()"
      class="d-flex justify-content-center flex-wrap gap-2"
    >
      <input
        type="email"
        [(ngModel)]="newsletterEmail"
        name="newsletterEmail"
        required
        placeholder="Tu email"
        class="form-control w-auto"
      />
      <button type="submit" class="btn btn-light">Suscribirse</button>
    </form>
    <p *ngIf="newsletterMessage" class="mt-2">{{ newsletterMessage }}</p>
  </div>

  <!-- Formulario contacto -->
  <h2 class="text-center mb-4">Contacto</h2>
  <form
    (ngSubmit)="submitContact()"
    #contactForm="ngForm"
    class="mx-auto"
    style="max-width: 500px"
  >
    <div class="mb-3">
      <label for="name" class="form-label">Nombre</label>
      <input
        type="text"
        id="name"
        class="form-control"
        [(ngModel)]="contact.name"
        name="name"
        required
      />
    </div>
    <div class="mb-3">
      <label for="emailContact" class="form-label">Email</label>
      <input
        type="email"
        id="emailContact"
        class="form-control"
        [(ngModel)]="contact.email"
        name="email"
        required
      />
    </div>
    <div class="mb-3">
      <label for="message" class="form-label">Mensaje</label>
      <textarea
        id="message"
        rows="4"
        class="form-control"
        [(ngModel)]="contact.message"
        name="message"
        required
      ></textarea>
    </div>
    <button
      type="submit"
      class="btn btn-primary w-100"
      [disabled]="contactForm.invalid"
    >
      Enviar mensaje
    </button>
  </form>
  <p class="text-center mt-3 text-success" *ngIf="contactSuccess">
    {{ contactSuccess }}
  </p>
</div>
